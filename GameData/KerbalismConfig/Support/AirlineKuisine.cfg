// ============================================================================
// AirlineKuisine.cfg
// Kerbalism support patch for AirlineKuisine - PiezPiedPy 3rd July 2018
//   Adds support for CryoTanks, USI FTT and USI ReactorPack.



// ============================================================================
// Add LH2 to pressurized containers
// ============================================================================
@PART[dsak_ess_bl,dsak_ess_bs,dsak_ess_3at]:HAS[@MODULE[Configure]:HAS[!SETUP[Liquid?Hydrogen]]]:NEEDS[AirlineKuisine,CryoTanks|FTT,ProfileDefault]:AFTER[zzzKerbalismDefault]
{
	@MODULE[Configure]
	{
		SETUP
		{
			name = Liquid Hydrogen
			desc = Store <b>Liquid Hydrogen</b>.
			tech = advFuelSystems

			RESOURCE
			{
				name = LqdHydrogen
				amount = 1
				maxAmount = 1
				@amount *= #$/ContainerVolume$
				@maxAmount *= #$/ContainerVolume$
			}
		}
	}
}


// ============================================================================
// Add LH2 cooling to pressurized containers
// ============================================================================
@PART[dsak_ess_bl,dsak_ess_bs,dsak_ess_3at]:HAS[@MODULE[Configure]:HAS[@SETUP[Liquid?Hydrogen]]]:NEEDS[AirlineKuisine,CryoTanks,ProfileDefault]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name =  ModuleCryoTank
		// in Ec per 1000 units per second
		CoolingCost = 0.05
		CoolingEnabled = True
		BOILOFFCONFIG
		{
			FuelName = LqdHydrogen
			// in % per hr
			BoiloffRate = 0.05
		}
	}
}


// ============================================================================
// Add Uraninite ore to non pressurized containers
// ============================================================================
@PART[dsak_ess_al,dsak_ess_as,dsak_ess_3a,dsak_ess_3as]:HAS[@MODULE[Configure]:HAS[!SETUP[Uraninite]]]:NEEDS[AirlineKuisine,UmbraSpaceIndustries,ProfileDefault]:AFTER[UmbraSpaceIndustries]
{
	@MODULE[Configure]
	{
		SETUP
		{
			name = Uraninite
			desc = Store <b>Uraninite</b> ore.
			tech = advScienceTech

			RESOURCE
			{
				name = Uraninite
				amount = 1
				maxAmount = 1
				@amount *= #$/ContainerVolume$
				@maxAmount *= #$/ContainerVolume$
			}
		}
	}
}