// ============================================================================
// USI_ReactorPack.cfg
// Kerbalism support patch for Umbra Space Industries ReactorPack
//   Adds Uraninite mining, storage, processing.
//   Uraninite Centrifuge process to extract Enriched Uranium from Uraninite ore.
//   Depleted Fuel Breeder Reactor process to extract Enriched Uranium from Depleted Fuel.
//   Nuclear Reactor process for the reactors.
//   Removes USIFieldRepair and stock Modules.
//   Place Reactor Parts into suitable Tech Tree locations.
// ============================================================================

// Wish-List. Options in maybe the settings.cfg or a separate .cfg file to give the user the ability to remove or not the
// FieldRepair Modules. Also I have no idea yet how to implement the options into the NEEDS[] section.



// ============================================================================
// Add resources and processes to the KerbalismSupport profile
// ============================================================================
Profile
{
	name = KerbalismSupport
	modname = USI ReactorPack
	moddir = ReactorPack

	Supply
	{
		resource = Uraninite
		low_message = Uraninite is almost depleted on $VESSEL@<i>Enriched Uranium production will soon be unavailable</i>
		empty_message = There is no more Uraninite on $VESSEL@<i>Enriched Uranium production is no longer available</i>
		refill_message = $VESSEL Uraninite storage refilled@<i>Enriched Uranium production is available</i>
	}

	Supply
	{
		resource = EnrichedUranium
		low_message = Enriched Uranium is almost depleted on $VESSEL@<i>Nuclear Reactors will shut down soon</i>
		empty_message = There is no more Enriched Uranium on $VESSEL@<i>Nuclear Reactors have shut down</i>
		refill_message = $VESSEL Enriched Uranium storage refilled@<i>Nuclear Reactors back online</i>
	}
}

// ============================================================================
// Move Reactors to a more suitable Tech Tree location
// ============================================================================
@PART[USI_Nuke_625,USI_Nuke_125,USI_Nuke_125_S]:NEEDS[!CommunityTechTree,UmbraSpaceIndustries,ProfileDefault]:AFTER[UmbraSpaceIndustries]
{
	@TechRequired = advElectrics
}

@PART[USI_Nuke_250]:NEEDS[!CommunityTechTree,UmbraSpaceIndustries,ProfileDefault]:AFTER[UmbraSpaceIndustries]
{
	@TechRequired = largeElectrics
}

@PART[USI_Nuke_375]:NEEDS[!CommunityTechTree,UmbraSpaceIndustries,ProfileDefault]:AFTER[UmbraSpaceIndustries]
{
	@TechRequired = specializedElectrics
}

// ============================================================================
// Pseudo-resources used by Kerbalism support for USI ReactorPack
// ============================================================================
RESOURCE_DEFINITION:NEEDS[UmbraSpaceIndustries,ProfileDefault]
{
	name = _Centrifuge
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION:NEEDS[UmbraSpaceIndustries,ProfileDefault]
{
	name = _Breeder
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION:NEEDS[UmbraSpaceIndustries,ProfileDefault]
{
	name = _Nukereactor
	density = 0.0
	isVisible = false
}

@RESOURCE_DEFINITION[DepletedFuel]:NEEDS[UmbraSpaceIndustries,ProfileDefault]:AFTER[UmbraSpaceIndustries]
{
	@isTweakable = true
}
