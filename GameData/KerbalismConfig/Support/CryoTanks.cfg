// ============================================================================
// CryoTanks.cfg
// Kerbalism support patch for CryoTanks - PiezPiedPy 21st June 2018
//   LH2 added to radial containers.
//   Hydrogen Liquefaction process for creating LqdHydrogen from Hydrogen gas.
//   Liquid Hydrogen Evaporator process for creating Hydrogen gas from LqdHydrogen.
//   LH2+O2 Fuel Cells.



// ============================================================================
// Add resources and processes to the KerbalismSupport profile
// ============================================================================
Profile
{
	name = KerbalismSupport
	modname = CryoTanks
	moddir = CryoTanks

	Supply
	{
		resource = LqdHydrogen
		low_message = LH2 is almost depleted on $VESSEL@<i>Processes requiring LH2 will soon be unavailable</i>
		empty_message = There is no more LH2 on $VESSEL@<i>Processes requiring LH2 are no longer available</i>
		refill_message = $VESSEL LH2 storage refilled@<i>Processes requiring LH2 are now available</i>
	}
}

// ============================================================================
// Remove any ModuleResourceConverter from Fuel cells and ISRU's
// ============================================================================
@PART[FuelCell,FuelCellArray,ISRU,MiniISRU]:NEEDS[CryoTanks,ProfileDefault]:AFTER[zzz_CryoTanks]
{
	!MODULE[ModuleResourceConverter],* {}
}

// ============================================================================
// Remove Cryotank ModuleResourceConverter from PlanetaryBaseSystems ISRU
// ============================================================================
@PART[KKAOSS_ISRU_g]:HAS[@MODULE[ModuleResourceConverter]:HAS[#ConverterName[*CryoTanks*]]]:NEEDS[CryoTanks,PlanetaryBaseInc,ProfileDefault]:AFTER[zzz_CryoTanks]
{
	!MODULE[ModuleResourceConverter]:HAS[#ConverterName[*CryoTanks*]] {}
}


// ============================================================================
// Pseudo-resources used by Kerbalism support for CryoTanks
// ============================================================================
RESOURCE_DEFINITION:NEEDS[CryoTanks,ProfileDefault]
{
	name = _HyLiquefaction
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION:NEEDS[CryoTanks,ProfileDefault]
{
	name = _LHyEvaporator
	density = 0.0
	isVisible = false
}

RESOURCE_DEFINITION:NEEDS[CryoTanks,ProfileDefault]
{
	name = _LH2FuelCell
	density = 0.0
	isVisible = false
}

